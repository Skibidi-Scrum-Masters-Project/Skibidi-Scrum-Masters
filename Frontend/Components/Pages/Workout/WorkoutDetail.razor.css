.workout-logger{
    height:100%;
    width:100%;
    display:flex;
    flex-direction:column;
    background: var(--bg-dark);
    position:relative;

    /* så modal overlay bliver inde i phone body */
    overflow:hidden;
}

/* Stats bar */
.stats-bar{
    background: rgba(21, 28, 32, 0.78);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.10);
    box-shadow: 0 14px 30px rgba(0, 0, 0, 0.45), inset 0 1px 0 rgba(255, 255, 255, 0.06);
    padding: 12px 14px;
    display: grid;
    grid-template-columns: repeat(3, 1fr) auto;
    gap: 12px;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 40;
}

.stat{
    display:flex;
    flex-direction:column;
    gap:4px;
    min-width:0;
}

.stat-label{
    font-size:0.7rem;
    font-weight:850;
    color: rgba(225, 232, 236, 0.60);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.stat-value{
    font-size:1.25rem;
    font-weight:300;
    color: var(--text-primary);
    line-height:1;
    white-space: nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}

.stat-value.duration{
    color: var(--green-light);
    font-weight: 600;
}

.muscle-icons{
    display:flex;
    gap:6px;
}

.muscle-icon{
    width:28px;
    height:44px;
    border-radius:10px;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

/* Unified scroll area */
.workout-scroll{
    flex:1;
    min-height:0;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    padding: 12px 0;

    /* plads til sticky action bar + bottom nav */
    padding-bottom: calc(74px + 16px + 140px + env(safe-area-inset-bottom));

    scrollbar-width:none;
}

.workout-scroll::-webkit-scrollbar{
    width:0;
    height:0;
}

/* Hero */
.workout-hero{
    margin: 0 14px 12px 14px;
    background: var(--card-bg);
    border-radius:22px;
    border:1px solid rgba(255,255,255,0.06);
    box-shadow:0 10px 24px rgba(0,0,0,0.35);
    padding:18px;
}

.hero-top{
    display:flex;
    align-items:center;
    gap:12px;
    min-width:0;
}

.hero-ico{
    width:44px;
    height:44px;
    border-radius:14px;
    background: rgba(255,255,255,0.08);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:1.4rem;
    flex-shrink:0;
}

.hero-text{
    min-width:0;
}

.hero-title{
    margin:0;
    font-size:1.2rem;
    font-weight:900;
    color: var(--text-primary);
    white-space:nowrap;
    overflow:hidden;
    text-overflow: ellipsis;
}

.hero-sub{
    margin:6px 0 0 0;
    font-size:0.9rem;
    color: var(--text-secondary);
    line-height:1.25;
}

/* Exercises list */
.exercises-container{
    display:flex;
    flex-direction:column;
    gap:12px;
}

/* Exercise card */
.exercise-card{
    margin: 0 14px;
    background: var(--card-bg);
    border-radius:22px;
    border:1px solid rgba(255,255,255,0.06);
    box-shadow:0 10px 24px rgba(0,0,0,0.35);
    overflow:hidden;
}

.exercise-header{
    display:flex;
    align-items:center;
    gap:12px;
    padding:18px;
    border-bottom:1px solid rgba(255,255,255,0.06);
}

.exercise-icon{
    width:44px;
    height:44px;
    border-radius:14px;
    background: rgba(255,255,255,0.08);
    flex-shrink:0;
}

.exercise-headtext{
    flex:1;
    min-width:0;
    display:flex;
    flex-direction:column;
    gap:4px;
}

.exercise-name{
    margin:0;
    font-size:1.05rem;
    font-weight:900;
    color: var(--text-primary);
    overflow:hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.exercise-sub{
    margin:0;
    font-size:0.85rem;
    color: var(--text-secondary);
}

.icon-button{
    width:40px;
    height:40px;
    border-radius:14px;
    border:none;
    background: rgba(255,255,255,0.06);
    color: rgba(225,232,236,0.75);
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08);
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.12s ease, background-color 0.18s ease;
}

.icon-button:active{
    transform: scale(0.96);
}

.more-icon{
    font-size:1.25rem;
    line-height:1;
}

/* Notes */
.notes-section{
    padding:14px 18px;
    border-bottom:1px solid rgba(255,255,255,0.06);
}

.notes-input{
    width:100%;
    background: rgba(0,0,0,0.24);
    border:1px solid rgba(255,255,255,0.08);
    border-radius:14px;
    padding:12px;
    color: rgba(225,232,236,0.95);
    font-size:0.95rem;
    outline:none;
}

.notes-input::placeholder{
    color: rgba(225,232,236,0.45);
}

.notes-input:focus{
    border-color: rgba(36,195,106,0.35);
    background: rgba(0,0,0,0.32);
}

/* Sets */
.sets-container{
    padding:14px 18px;
}

.sets-header{
    display:grid;
    grid-template-columns: 40px 1fr 1fr 80px;
    gap:8px;
    padding:0 0 10px 0;
    margin-bottom:10px;
    border-bottom:1px solid rgba(255,255,255,0.06);
}

.sets-header > div{
    font-size:0.7rem;
    font-weight:850;
    color: rgba(225,232,236,0.55);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.set-row{
    display:grid;
    grid-template-columns: 40px 1fr 1fr 80px;
    gap:8px;
    align-items:center;
    padding:10px 0;
    border-top:1px solid rgba(255,255,255,0.04);
}

.set-row:first-child{
    border-top:none;
}

.set-number{
    font-size:1.05rem;
    font-weight:800;
    color: rgba(225,232,236,0.70);
}

.set-input{
    width:100%;
    background: rgba(0,0,0,0.24);
    border:1px solid rgba(255,255,255,0.08);
    border-radius:12px;
    padding:8px 6px;
    color: var(--text-primary);
    font-size:1rem;
    font-weight:600;
    text-align:center;
    outline:none;
}

.set-input:focus{
    border-color: rgba(36,195,106,0.35);
    background: rgba(0,0,0,0.32);
    box-shadow: 0 0 0 3px rgba(36,195,106,0.10);
}

.set-row.prefilled{
    background: rgba(148, 163, 184, 0.03);
    border-radius:12px;
    padding:10px 8px;
    margin:2px 0;
}

.set-row.finished{
    background: rgba(36,195,106,0.06);
    border-radius:12px;
    padding:10px 8px;
    margin:2px 0;
}

/* Check / remove buttons */
.col-check{
    display:flex;
    gap:4px;
    justify-content:flex-end;
}

.check-button,
.remove-button{
    width:36px;
    height:36px;
    border-radius:11px;
    border:none;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.12s ease;
}

.check-button{
    background: rgba(255,255,255,0.06);
    color: rgba(225,232,236,0.75);
    font-size:1rem;
    font-weight:900;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.08);
}

.check-button:active,
.remove-button:active{
    transform: scale(0.94);
}

.remove-button{
    background: transparent;
    color: rgba(235,72,72,0.75);
    font-size:0.95rem;
}

/* Add set */
.add-set-button{
    width:100%;
    padding:14px;
    background: transparent;
    border:none;
    border-top:1px solid rgba(255,255,255,0.06);
    color: rgba(225,232,236,0.70);
    font-size:0.95rem;
    font-weight:800;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:8px;
    -webkit-tap-highlight-color: transparent;
}

.add-set-button:active{
    transform: scale(0.98);
}

.plus-icon{
    font-size:1.25rem;
    line-height:1;
}

/* Sticky action bar inside scroll */
.footer-actions{
    margin: 28px 14px 16px;

    position: relative;
    bottom: calc(20px + env(safe-area-inset-bottom));
    z-index: 50;

    padding:12px 14px 14px;
    background: rgba(21, 28, 32, 0.86);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);

    border:1px solid rgba(255,255,255,0.10);
    border-radius:22px;

    display:flex;
    flex-direction:column;
    gap:10px;
    overflow: hidden;

    box-shadow:0 10px 24px rgba(0,0,0,0.35);
}

/* ekstra afstand hvis den stadig føles tæt */
.exercises-container + .footer-actions{
    margin-top: 34px;
}

.footer-button{
    width:100%;
    padding:16px;
    border-radius:18px;
    font-size:1rem;
    font-weight:900;
    border:none;
    cursor:pointer;
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.12s ease, filter 0.18s ease;
}

.footer-button:active{
    transform: scale(0.98);
}

.footer-button.finish{
    background: var(--green-light);
    color: var(--bg-dark);
    box-shadow: 0 12px 30px rgba(36,195,106,0.40), inset 0 1px 0 rgba(255,255,255,0.20);
}

.footer-button.delete{
    background: transparent;
    color: rgba(235,72,72,0.95);
    border: 1px solid rgba(235,72,72,0.20);
    box-shadow: inset 0 0 0 1px rgba(235,72,72,0.12);
}

/* Når modal er åben, så fjern action bar så den ikke laver skygge under overlay */
.modal-open .footer-actions{
    opacity: 0;
    pointer-events: none;
    box-shadow: none;
}

/* Toast */
.toast{
    position: fixed;
    bottom: calc(100px + env(safe-area-inset-bottom));
    left: 50%;
    transform: translateX(-50%);
    z-index: 80;

    background: rgba(36,195,106,0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);

    color: var(--bg-dark);
    padding: 14px 22px;
    border-radius: 18px;
    font-weight: 800;
    font-size: 0.95rem;

    box-shadow: 0 12px 32px rgba(36,195,106,0.40), inset 0 1px 0 rgba(255,255,255,0.25);
}

/* Modal confirm (inde i phone body) */
.modal-overlay{
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.55);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);

    display:flex;
    align-items:flex-end;
    justify-content:center;
    padding: 16px;

    z-index: 120;
}

.modal-card{
    width: 100%;
    max-width: 520px;

    max-height: calc(100% - 24px);
    overflow: auto;

    background: rgba(21, 28, 32, 0.92);
    border: 1px solid rgba(255,255,255,0.10);
    border-radius: 22px;
    box-shadow: 0 16px 44px rgba(0,0,0,0.55);
    padding: 16px;
}

.modal-title{
    color: var(--text-primary);
    font-size: 1.05rem;
    font-weight: 900;
    margin: 2px 0 6px;
}

.modal-text{
    color: rgba(225,232,236,0.70);
    font-size: 0.95rem;
    line-height: 1.3;
    margin: 0 0 14px;
}

.modal-actions{
    display:flex;
    gap:10px;
}

.modal-btn{
    flex:1;
    padding: 14px 12px;
    border-radius: 16px;
    border: none;
    font-weight: 900;
    font-size: 0.95rem;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.12s ease, filter 0.18s ease;
}

.modal-btn:active{
    transform: scale(0.98);
}

.modal-btn.ghost{
    background: rgba(255,255,255,0.06);
    color: rgba(225,232,236,0.90);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.10);
}

.modal-btn.danger{
    background: rgba(235,72,72,0.16);
    color: rgba(255,255,255,0.95);
    box-shadow: inset 0 0 0 1px rgba(235,72,72,0.28);
}

/* Responsive */
@media (max-width: 430px){
    .workout-hero{
        margin: 0 12px 12px 12px;
    }

    .exercise-card{
        margin: 0 12px;
    }

    .footer-actions{
        margin: 28px 12px 16px;
    }

    .modal-overlay{
        padding: 12px;
    }
}
