/* Statistik page, matcher stats_preview (3 tabs) */

.stats-screen{
    flex:1;
    min-height:0;
    display:flex;
    flex-direction:column;
    overflow:hidden;
}

/* Main tabs */
.main-tabs{
    display:flex;
    background:var(--card-bg);
    padding:8px;
    gap:6px;
    box-shadow:0 4px 12px rgba(0,0,0,0.3);
    border-radius:16px 16px 0 0;
}

.main-tab{
    flex:1;
    border:none;
    background:transparent;
    color:var(--text-secondary);
    padding:12px 8px;
    border-radius:12px;
    font-weight:700;
    font-size:0.85rem;
    cursor:pointer;
    transition:all 0.2s ease;
}

.main-tab.active{
    background:var(--green-light);
    color:var(--bg-dark);
    box-shadow:0 4px 12px rgba(36,195,106,0.4);
}

.main-tab:hover:not(.active){
    background:rgba(255,255,255,0.05);
}

/* Tab content */
.tab-content{
    flex:1;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
    padding:16px 14px calc(130px + env(safe-area-inset-bottom));
    display:none;
    flex-direction:column;
    gap:16px;
    scrollbar-width:none;
}
.tab-content::-webkit-scrollbar{ display:none; }
.tab-content.active{ display:flex; }

/* Hero section */
.stats-hero{
    background:linear-gradient(135deg,#2f3a40,#253036);
    border-radius:26px;
    padding:24px 20px;
    box-shadow:0 12px 30px rgba(0,0,0,0.45);
}

.stats-title{
    margin:0;
    font-size:1.8rem;
    font-weight:900;
    color:var(--text-primary);
}

.stats-subtitle{
    margin:8px 0 0 0;
    font-size:0.95rem;
    color:var(--text-secondary);
}

/* Streak banner */
.stats-streak-banner{
    margin-top:16px;
    background:rgba(255,165,0,0.14);
    border-radius:16px;
    padding:14px 16px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    box-shadow:inset 0 0 0 1px rgba(255,183,3,0.18);
}

.streak-left{
    display:flex;
    align-items:center;
    gap:12px;
}

.streak-emoji{ font-size:2rem; }

.streak-info h3{
    margin:0;
    font-size:1.1rem;
    font-weight:800;
    color:#ffb703;
}
.streak-info p{
    margin:2px 0 0 0;
    font-size:0.85rem;
    color:rgba(255,183,3,0.75);
}
.streak-number{
    font-size:1.8rem;
    font-weight:900;
    color:#ffb703;
}

/* Period selector */
.period-selector{
    display:flex;
    gap:8px;
    background:rgba(0,0,0,0.2);
    padding:6px;
    border-radius:16px;
}

.period-btn{
    flex:1;
    border:none;
    background:transparent;
    color:var(--text-secondary);
    padding:10px 16px;
    border-radius:12px;
    font-weight:700;
    font-size:0.9rem;
    cursor:pointer;
    transition:all 0.2s ease;
}

.period-btn.active{
    background:var(--green-light);
    color:var(--bg-dark);
    box-shadow:0 4px 12px rgba(36,195,106,0.4);
}

/* Stats cards */
.stats-cards{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:10px;
}

.stat-card{
    background:var(--card-bg);
    border-radius:20px;
    padding:18px 12px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
    box-shadow:0 8px 20px rgba(0,0,0,0.35);
    border:1px solid rgba(255,255,255,0.06);
    position:relative;
}

.stat-card::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:3px;
    background:var(--green-light);
}

.stat-value{
    margin:0;
    font-size:1.75rem;
    font-weight:900;
}

.stat-label{
    margin:0;
    font-size:0.75rem;
    color:var(--text-secondary);
    text-align:center;
    line-height:1.3;
}

/* Chart card */
.stats-chart-card{
    background:var(--card-bg);
    border-radius:22px;
    padding:20px;
    box-shadow:0 10px 24px rgba(0,0,0,0.4);
    border:1px solid rgba(255,255,255,0.06);
}

.chart-title{
    margin:0 0 8px 0;
    font-size:1.1rem;
    font-weight:800;
}

.chart-subtitle{
    margin:0 0 16px 0;
    font-size:0.85rem;
    color:var(--text-secondary);
}

/* Normal distribution */
.bell-curve{
    width:100%;
    height:auto;
    margin-bottom:12px;
}

.distribution-labels{
    display:flex;
    justify-content:space-between;
    padding:0 10px;
}

.dist-label{
    font-size:0.8rem;
    color:var(--text-secondary);
    font-weight:600;
}

.dist-label.highlight{
    color:var(--green-light);
    font-weight:800;
}

/* Training areas */
.area-list{
    display:flex;
    flex-direction:column;
    gap:16px;
}

.area-item{
    display:flex;
    flex-direction:column;
    gap:8px;
}

.area-info{
    display:flex;
    align-items:center;
    gap:12px;
}

.area-icon{
    font-size:1.5rem;
    width:40px;
    height:40px;
    background:rgba(255,255,255,0.05);
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
}

.area-name{
    font-weight:800;
    font-size:0.95rem;
}

.area-time{
    font-size:0.8rem;
    color:var(--text-secondary);
}

.area-bar-container{
    width:100%;
    height:8px;
    background:rgba(255,255,255,0.08);
    border-radius:50px;
}

.area-bar{
    height:100%;
    background:linear-gradient(90deg,var(--green-light),var(--green));
    border-radius:50px;
}

/* Crowd */
.crowd-row{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
}

.crowd-pill{
    display:flex;
    align-items:center;
    gap:10px;
    padding:12px 14px;
    border-radius:16px;
    background:rgba(0,0,0,0.18);
    border:1px solid rgba(255,255,255,0.06);
}

.crowd-emoji{ font-size:1.2rem; }
.crowd-number{ font-size:1.3rem; font-weight:900; color:var(--green-light); }

.ghost-btn{
    border:1px solid rgba(255,255,255,0.10);
    background:rgba(255,255,255,0.06);
    color:var(--text-primary);
    border-radius:14px;
    padding:12px 14px;
    font-weight:800;
    cursor:pointer;
}
.ghost-btn:active{ transform:scale(0.98); }

/* Comparison tab */
.rank-card{
    background:linear-gradient(135deg,#2f3a40,#253036);
    border-radius:26px;
    padding:24px;
    box-shadow:0 12px 30px rgba(0,0,0,0.45);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:12px;
}

.rank-badge{
    background:var(--green-light);
    border-radius:20px;
    padding:20px 40px;
    box-shadow:0 8px 20px rgba(36,195,106,0.4);
}

.rank-number{
    font-size:3rem;
    font-weight:900;
    color:var(--bg-dark);
    line-height:1;
}

.rank-text{
    font-size:0.9rem;
    font-weight:700;
    color:var(--bg-dark);
    margin-top:4px;
}

.rank-subtitle{
    font-size:0.9rem;
    color:var(--text-secondary);
    text-align:center;
}

/* Metric items */
.metric-item{
    display:flex;
    flex-direction:column;
    gap:10px;
    padding-bottom:16px;
    border-bottom:1px solid rgba(255,255,255,0.06);
}
.metric-item:last-child{
    border-bottom:none;
    padding-bottom:0;
}

.metric-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.metric-name{
    font-weight:700;
    font-size:0.95rem;
}

.metric-values{
    display:flex;
    gap:12px;
    font-size:0.85rem;
}

.you{ color:var(--green-light); font-weight:800; }
.avg{ color:var(--text-secondary); font-weight:600; }

.metric-bars{
    display:flex;
    flex-direction:column;
    gap:8px;
}

.metric-bar{
    height:32px;
    border-radius:8px;
    display:flex;
    align-items:center;
    padding:0 12px;
}

.you-bar{
    background:linear-gradient(90deg,var(--green-light),var(--green));
    box-shadow:0 4px 12px rgba(36,195,106,0.3);
}

.avg-bar{
    background:rgba(255,255,255,0.1);
}

.bar-label{
    font-size:0.8rem;
    font-weight:700;
}

.metric-diff{
    font-size:0.85rem;
    font-weight:700;
}
.metric-diff.positive{ color:var(--green-light); }
.metric-diff.negative{ color:#ff6b6b; }

/* Leaderboard */
.leaderboard-list{
    display:flex;
    flex-direction:column;
    gap:10px;
}

.leaderboard-item{
    display:flex;
    align-items:center;
    gap:14px;
    background:rgba(255,255,255,0.05);
    padding:14px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.06);
}

.leaderboard-item.rank-1{
    background:rgba(36,195,106,0.12);
    border-color:rgba(36,195,106,0.18);
}

.lb-rank{
    width:40px;
    height:40px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(255,255,255,0.06);
    font-weight:900;
}

.lb-name{ font-weight:800; font-size:0.95rem; }
.lb-stats{ font-size:0.8rem; color:var(--text-secondary); margin-top:2px; }

.lb-score{
    margin-left:auto;
    font-weight:900;
    color:var(--green-light);
}

/* Favorites */
.favorites-card{
    background:var(--card-bg);
    border-radius:22px;
    padding:20px;
    box-shadow:0 10px 24px rgba(0,0,0,0.4);
    border:1px solid rgba(255,255,255,0.06);
}
.favorites-card.purple{
    background:linear-gradient(135deg,#3a2f5a,#2a2040);
    border-color:rgba(168,85,247,0.2);
}

.favorites-list{
    display:flex;
    flex-direction:column;
    gap:10px;
}

.favorite-item{
    display:flex;
    align-items:center;
    gap:14px;
    background:rgba(255,255,255,0.05);
    padding:14px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.06);
}

.fav-rank{
    width:40px;
    height:40px;
    background:var(--green-light);
    color:var(--bg-dark);
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
    font-size:1.1rem;
}

.fav-name{ font-weight:800; font-size:0.95rem; }
.fav-stats{ font-size:0.8rem; color:var(--text-secondary); margin-top:2px; }

.fav-count{
    font-size:1.1rem;
    font-weight:900;
    color:var(--green-light);
    margin-left:auto;
}

.favorites-empty{
    padding:14px;
    border-radius:16px;
    background:rgba(0,0,0,0.18);
    border:1px solid rgba(255,255,255,0.06);
    color:var(--text-secondary);
    text-align:center;
    font-weight:800;
}

/* Time preference */
.time-chart{
    display:flex;
    justify-content:space-around;
    align-items:flex-end;
    height:140px;
    gap:8px;
    margin:20px 0;
}

.time-bar-group{
    flex:1;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
    height:100%;
}

.time-bar{
    width:100%;
    background:rgba(255,255,255,0.1);
    border-radius:8px 8px 4px 4px;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding-top:6px;
    margin-top:auto;
}

.time-bar.highlight{
    background:linear-gradient(180deg,var(--green-light),var(--green));
    box-shadow:0 4px 16px rgba(36,195,106,0.4);
}

.time-value{
    font-size:0.85rem;
    font-weight:800;
}

.time-label{
    font-size:0.68rem;
    color:var(--text-secondary);
    text-align:center;
    line-height:1.2;
    white-space:pre-line;
}

.time-insight{
    background:rgba(255,165,0,0.1);
    border-radius:12px;
    padding:12px 14px;
    display:flex;
    align-items:center;
    gap:12px;
    border:1px solid rgba(255,165,0,0.2);
}

.insight-icon{ font-size:1.5rem; }
.time-insight p{
    margin:0;
    font-size:0.85rem;
    color:var(--text-secondary);
    line-height:1.4;
}

.empty-compare-banner{
    display:flex;
    gap:12px;
    align-items:flex-start;
    padding:14px 14px;
    border-radius:16px;
    background:rgba(252,165,165,.14);
    border:1px solid rgba(252,165,165,.35);
    box-shadow:0 10px 22px rgba(0,0,0,.12);
    margin:12px 0 14px;
}

.empty-compare-icon{
    width:34px;
    height:34px;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(252,165,165,.22);
    font-size:18px;
    flex:0 0 auto;
}

.empty-compare-title{
    font-size:14px;
    font-weight:700;
    letter-spacing:.2px;
}

.empty-compare-sub{
    margin-top:2px;
    font-size:13px;
    opacity:.95;
    line-height:1.25rem;
}


.todo-hint{
    margin-top:14px;
    font-size:0.82rem;
    color:var(--text-secondary);
    opacity:0.85;
}

@media (max-width:430px){
    .tab-content{ padding-left:12px; padding-right:12px; }
    .stats-cards{ gap:8px; }
}
