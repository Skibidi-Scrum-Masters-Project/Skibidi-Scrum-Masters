.dashboard{
    height:100%;
    width:100%;
    display:flex;
    flex-direction:column;
    position:relative;
    padding:0;
    gap:0;
}

.dashboard > .topbar{
    display:none;
}
.dashboard > .bottom-nav{
    display:none;
}

.dashboard-body{
    flex:1;
    min-height:0;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;

    display:flex;
    flex-direction:column;
    gap:12px;

    padding:12px 0 calc(104px + env(safe-area-inset-bottom));
    scrollbar-width:none;
}
.dashboard-body::-webkit-scrollbar{width:0;height:0;}

.dashboard-body > section{ margin:0 14px; }

/* Welcome card */
.welcome-card{
    background:linear-gradient(135deg,#2f3a40,#253036);
    border-radius:26px;
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
    box-shadow:0 12px 30px rgba(0,0,0,0.45);
    user-select:none;
}

.welcome-small{
    margin:0;
    font-size:0.85rem;
    color:var(--text-secondary);
}

.welcome-title{
    margin:2px 0 0 0;
    font-size:1.35rem;
    font-weight:800;
    color:var(--text-primary);
}

.streak-row{
    margin-top:10px;
    display:flex;
    flex-direction:column;
    gap:6px;
}

.streak-badge{
    display:inline-flex;
    align-items:center;
    gap:8px;
    background:rgba(255,165,0,0.14);
    color:#ffb703;
    font-weight:800;
    padding:8px 12px;
    border-radius:999px;
    font-size:0.85rem;
    box-shadow:inset 0 0 0 1px rgba(255,183,3,0.18);
    width:fit-content;
}

.streak-sub{
    font-size:0.85rem;
    color:var(--text-secondary);
}

.welcome-message{
    margin:0;
    font-size:0.95rem;
    color:var(--text-secondary);
}

.primary-cta{
    border:none;
    border-radius:18px;
    padding:14px;
    font-size:1.05rem;
    font-weight:800;
    background:var(--green-light);
    color:var(--bg-dark);
    cursor:pointer;
    box-shadow:0 8px 18px rgba(36,195,106,0.42);
    transition:background-color 0.2s ease, transform 0.1s ease;
}
.primary-cta:hover,
.primary-cta:focus{background:var(--green);outline:none;}
.primary-cta:active{transform:scale(0.98);}
.primary-cta:disabled{
    opacity:0.6;
    cursor:not-allowed;
    box-shadow:none;
}

/* Crowd */
.crowd-card{
    background:var(--card-bg);
    border-radius:22px;
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:12px;
    box-shadow:0 8px 20px rgba(36,195,106,0.18);
    user-select:none;
}

.crowd-head{
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-weight:650;
    color:var(--text-primary);
    font-size:0.9rem;
}

.crowd-label{
    font-size:0.8rem;
    color:var(--text-secondary);
}

.bar{
    width:100%;
    height:8px;
    border-radius:50px;
    background:var(--gray-light);
    overflow:hidden;
}

.bar-fill{
    height:100%;
    width:100%;
    border-radius:50px;
    background:linear-gradient(90deg,var(--yellow-accent) 0%,var(--yellow-accent) 100%);
    transition:background-color 0.25s ease;
}

.crowd-info-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    color:var(--text-secondary);
    font-size:0.85rem;
    gap:12px;
}

.link-secondary{
    background:none;
    border:none;
    font-weight:800;
    color:var(--yellow-accent);
    cursor:pointer;
    font-size:0.9rem;
    padding:0;
}
.link-secondary:hover,
.link-secondary:focus{text-decoration:underline;outline:none;}

.unlock-btn{
    margin-top:6px;
    border-radius:18px;
    padding:14px 0;
    background:var(--green-light);
    box-shadow:0 6px 14px rgba(36,195,106,0.42);
    font-size:1.05rem;
    font-weight:800;
    color:var(--bg-dark);
    cursor:pointer;
    border:none;
    transition:background-color 0.2s ease, transform 0.1s ease;
}
.unlock-btn:hover,
.unlock-btn:focus{background:var(--green);outline:none;}
.unlock-btn:active{transform:scale(0.99);}

/* Action stack */
.action-stack{
    display:flex;
    flex-direction:column;
    gap:12px;
}

.stack-card{
    background:var(--card-bg);
    border-radius:20px;
    padding:16px;
    display:flex;
    align-items:center;
    gap:14px;
    border:none;
    cursor:pointer;
    box-shadow:0 6px 14px rgba(0,0,0,0.32);
    color:var(--text-primary);
    transition:transform 0.1s ease, background-color 0.2s ease;
}
.stack-card:active{transform:scale(0.99);}

.stack-ico{
    width:44px;
    height:44px;
    border-radius:14px;
    background:rgba(255,255,255,0.08);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:1.4rem;
    flex-shrink:0;
}

.stack-text{flex:1;min-width:0;}
.stack-title{font-weight:900;font-size:1rem;color:var(--text-primary);}
.stack-sub{font-size:0.85rem;color:var(--text-secondary);}
.stack-arrow{font-size:1.6rem;opacity:0.45;}

/* Feed */
.feed-preview{
    background:var(--card-bg);
    border-radius:22px;
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:14px;
    box-shadow:0 10px 18px rgba(0,0,0,0.45);
    user-select:none;
}

.feed-head{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.feed-head h2{
    margin:0;
    font-size:1.15rem;
    color:var(--text-primary);
}

.link{
    border:none;
    background:none;
    font-weight:800;
    color:var(--green-light);
    cursor:pointer;
    font-size:0.95rem;
    padding:0;
}
.link:hover,
.link:focus{text-decoration:underline;outline:none;}

.feed-tabs{
    display:flex;
    align-items:center;
    gap:15px;
    border-bottom:1px solid rgba(255,255,255,0.06);
    padding-bottom:8px;
    margin-bottom:12px;
}

.tab{
    border:none;
    background:none;
    font-weight:750;
    color:var(--text-secondary);
    padding:0;
    cursor:pointer;
    position:relative;
    font-size:0.95rem;
}
.tab.active{color:var(--text-primary);}
.tab.active::after{
    content:"";
    position:absolute;
    bottom:-9px;
    left:0;
    width:100%;
    height:3px;
    background:var(--green-light);
    border-radius:2px;
}

.post-card{
    background:rgba(0,0,0,0.12);
    border-radius:18px;
    padding:14px;
    display:flex;
    flex-direction:column;
    gap:10px;
    box-shadow:0 6px 14px rgba(0,0,0,0.32);
    border:1px solid rgba(255,255,255,0.06);
}

.post-content-line{
    font-size:0.95rem;
    font-weight:800;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.post-head{
    display:flex;
    align-items:center;
    gap:12px;
}

.post-avatar{
    width:40px;
    height:40px;
    border-radius:999px;
    background:var(--green-light);
    color:var(--bg-dark);
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:900;
}

.post-name{font-weight:900;color:var(--text-primary);}
.post-sub{font-size:0.8rem;color:var(--text-secondary);}

@media (max-width:430px){
    .dashboard-body{ padding-bottom: calc(104px + env(safe-area-inset-bottom)); }
    .dashboard-body > section{ margin:0 12px; }
}
