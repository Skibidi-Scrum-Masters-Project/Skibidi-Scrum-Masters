@page "/locker"
@using FitLifeFitness.Components.Layout
@layout EmptyLayout
@using Microsoft.AspNetCore.Components

<div class="locker-screen">

    <h2 class="locker-title">Digital h칝ngel친s</h2>
    <p class="locker-subtitle">V칝lg skab og l친s op med din app.</p>

    <div class="locker-card">
        <div class="locker-icon-area">
            <div class="locker-circle @(IsLocked ? "locked" : "unlocked")">
                <span class="locker-emoji">@(!IsLocked ? "游댑" : "游")</span>
            </div>
            <p class="locker-status-text">
                Status: <strong>@(IsLocked ? "L친st" : "칀ben")</strong>
            </p>
        </div>

        <div class="locker-form">
            <label for="lockerNumber">Skabsnummer</label>
            <input id="lockerNumber"
                   class="locker-input"
                   @bind="LockerNumber"
                   placeholder="Fx 57" />
        </div>

        <div class="locker-buttons">
            <button class="primary-btn locker-btn" @onclick="OpenLocker">
                칀bn skab
            </button>

            <button class="secondary-btn locker-btn" @onclick="LockLocker">
                L친s skab
            </button>
        </div>

        @if (!string.IsNullOrWhiteSpace(Message))
        {
            <p class="locker-message">@Message</p>
        }
    </div>
</div>

@code {
    private string LockerNumber { get; set; } = string.Empty;
    private bool IsLocked { get; set; } = true;
    private string Message { get; set; } = string.Empty;

    private void OpenLocker()
    {
        if (string.IsNullOrWhiteSpace(LockerNumber))
        {
            Message = "Indtast et skabsnummer for at 친bne.";
            return;
        }

        // TODO: kald jeres locker-backend her (openlocker)
        IsLocked = false;
        Message = $"Skab {LockerNumber} er 친bnet.";
    }

    private void LockLocker()
    {
        if (string.IsNullOrWhiteSpace(LockerNumber))
        {
            Message = "Indtast et skabsnummer for at l친se.";
            return;
        }

        // TODO: kald jeres locker-backend her (locklocker)
        IsLocked = true;
        Message = $"Skab {LockerNumber} er l친st.";
    }
}
